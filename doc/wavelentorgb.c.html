<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<!-- This HTML file generated by cxref. -->
<!-- cxref program (c) Andrew M. Bishop 1995,96,97,98,99. -->

<!--
Cxref: cxref -Odoc -html32 wavelentorgb.c
CPP  : gcc -E -C -dD -dI
-->

<HTML>

<HEAD>
<TITLE>Cross reference for wavelentorgb.c of cxref.</TITLE>
</HEAD>

<BODY>

<h1><a name="file">File wavelentorgb.c</a></h1>
 Compile a test program with 
    'gcc -Wall -DTEST -DNDEBUG -lm -o nm2rgb wavelentorgb.c'  
<p>

<hr>
<h2>Included Files</h2>

<ul>
<li><tt>#include &lt;math.h&gt;</tt>
</ul>
<ul>
<li><tt>#include &lt;stdio.h&gt;</tt>
</ul>
<ul>
<li><tt>#include &lt;stdlib.h&gt;</tt>
</ul>

<hr>
<h2>Preprocessor definitions</h2>

<tt>#define TEST 1</tt><br>
<p>
<tt>#define debug( TXT )</tt><br>

<hr>
<h2>Local Variables</h2>

<b><a name="var-_gamma">_gamma</a></b><br>
<tt>static const double _gamma</tt><br>
<p>
<b><a name="var-max_intensity">max_intensity</a></b><br>
<tt>static const int max_intensity</tt><br>

<hr>
<h2><a name="func-main">Global Function main()</a></h2>
 Test program for the wavelen2rgb function. 
<p>
<tt>int main ( int argc, char* argv[] )</tt><br>
 For all the command-line arguments, do: 
<br>
 - convert them to RGB value 
<br>
 - report the values 
<p>

<hr>
<h2><a name="func-wavelen2rgb">Global Function wavelen2rgb()</a></h2>
 Converts a wavelength to an RGB color triple. This function returns 0
  on normal completion.
<p>
<tt>int wavelen2rgb ( int nm, unsigned char rgb[3] )</tt><br>
<dl compact>
<dt><tt>int nm</tt>
<dd>Wavelength. Should be between 380 and 780 nm.
<dt><tt>unsigned char rgb[3]</tt>
<dd>The calculated color is returned in this array.
</dl>
 If nm is not in the range 380 .. 780, fail and return 1. 
<br>
 Fail with a return value of 2 if rgb is a NULL pointer. 
<br>
 Calculate intensities in the different wavelength bands. 
<br>
 Let the intensity fall off near the vision limits. 
<br>
 Return the calculated values in the rgb array. 
<br>
 Return a value of 0 if there were no errors. 
<p>

<hr>
<h2><a name="func-_adjust">Local Function _adjust()</a></h2>
 Adjusts the color. Used to drop off the intensity near the vision
  limits.
<p>
<tt>static unsigned char _adjust ( const double color, const double factor )</tt><br>
<dl compact>
<dt><tt>const double color</tt>
<dd>The color to change.
<dt><tt>const double factor</tt>
<dd>Used in adjusting the color.
</dl>
 Return 0 for color values near to 0. 
<br>
 Calculate the adjusted color value. 
<br>
 Then clamp it to the 0 .. 255 range. 
<p>

</BODY>
</HTML>
